<!doctype html>
<meta charset="utf-8">
<html>

<head>
    <meta http-equiv="content-type" content="text/html; charset=UTF8">
    <script src="external/javascripts/vendor/angularjs-nvd3-directives/examples/js/angular.js"></script>
    <script src="external/javascripts/vendor/angularjs-nvd3-directives/examples/js/d3.js"></script>
    <script src="external/javascripts/vendor/angularjs-nvd3-directives/examples/js/nv.d3.js"></script>
    <script src="external/javascripts/vendor/angularjs-nvd3-directives/examples/js/moment.js"></script>
                      <script src="external/javascripts/vendor/angularjs-nvd3-directives/dist/angularjs-nvd3-directives.js"></script>
    <link rel="stylesheet" href="external/javascripts/vendor/angularjs-nvd3-directives/examples/stylesheets/nv.d3.css"/>
    	<script src="http://ajax.googleapis.com/ajax/libs/angularjs/1.2.16/angular.min.js"></script><!-- load angular -->

	<script src="js/controllers/main.js"></script> <!-- load up our controller -->
	<script src="js/services/todos.js"></script> <!-- load our todo service -->
	<script src="js/core.js"></script> <!-- load our main application -->

<!-- newly added -->
<script src="http://d3js.org/d3.v3.min.js" charset="utf-8"></script>
<script src="external/javascripts/vendor/nv.d3.js"></script> 
<script src="js/directives/angular-nvd3.js"></script>
    
    
    <link rel="stylesheet" href="http://netdna.bootstrapcdn.com/bootstrap/3.0.3/css/bootstrap.min.css" />

    <script>
        var app = angular.module("nvd3TestApp", ['nvd3ChartDirectives']);

        function ExampleCtrl($scope){

            $scope.chart = {showLabels: false};

            $scope.exampleData = [{key: "One", y: 5 }, { key: "Two", y: 2 }, { key: "Three", y: 9 }, { key: "Four", y: 7 }, { key: "Five", y: 4 }, { key: "Six", y: 3 }, { key: "Seven", y: 9 } ];
            $scope.xFunction = function(){
                return function(d) {
                    return d.key;
                };
            }
            $scope.yFunction = function(){
                return function(d) {
                    return d.y;
                };
            }
            $scope.toggleShowLabels = function () {
                console.log('$scope.chart.showLabels', $scope.chart.showLabels, $scope.chart.showLabels.toString());
                $scope.chart.showLabels = !$scope.chart.showLabels;
            }
        }

    </script>

</head>
<body ng-app='nvd3TestApp'>

<div ng-controller="ExampleCtrl">
    <div class="container">
        <div class="row">
            <nvd3-pie-chart
                data="exampleData"
                width="200"
                height="200"
                margin="{left:10,top:10,bottom:10,right:10}"
                id="exampleId"
                x="xFunction()"
                y="yFunction()"
                showLabels="{{ chart.showLabels }}"
                pieLabelsOutside="false"
                showValues="true"
                labelType="percent"
                objectEquality="true">
                <svg style="height:300;width:300"></svg>
            </nvd3-pie-chart>
            <pre>showLabels: {{ chart.showLabels }}</pre>
            <button ng-click="toggleShowLabels()">Toggle Labels</button>
        </div>
    </div>
</div>

</body>
</html>